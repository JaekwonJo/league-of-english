# Memory Sync 2025-09-19

- 모든 API 기반 문제 유형에 매뉴얼을 주입하여 `source/mainText/options/explanation` 필드를 강제하고, 실패 시에도 동일 구조를 돌려주는 규칙 폴백을 구성했다.
- 빈칸/주제/제목/어휘/요약/함축/무관 문제 카드가 순서배열/문장삽입과 동일한 다크 테마 UI(출처 → 원문 → 지시문 → 선택지)를 사용한다.
- `grammarSpanGenerator`가 주어-동사 수일치, 관사, 대명사 규칙을 적용해 실제 한 개의 문법 오류만 포함하도록 개선했다.

Next
- OpenAI 응답 품질을 샘플링하여 매뉴얼 기반 프롬프트가 안정적으로 작동하는지 지속 모니터링.
- PDF 파서 2단계 작업 재개(문단 병합, 출처 감지, 테스트 보강).
- PowerShell 포트 체크 스크립트를 마저 작성해 `npm run dev:check` 자동화.
