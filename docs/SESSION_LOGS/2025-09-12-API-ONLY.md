# 2025-09-12 Session Log — API-only switch

Scope
- Enforce API-only generation for all types except order/insertion/grammar.
- Fix UI mojibake and duplicate headers; improve dark-mode visibility for [문제 신고].

Changes
- Server: Prefer `server/services/aiProblemService2.js` for AI generation.
- Routes: Smart problems and CSAT set use AI for blank/vocab/title/theme/summary/irrelevant/implicit.
- Client: Grammar display numbers ①~⑤ for both <<n>>…<</n>> and <u>…</u>.
- Admin Logs: Korean labels + basic mojibake recovery for names.
- Study UI: Remove duplicate "문서 제목/문항" from child components.
- Button: [문제 신고] contrast improved in dark mode.

Next
- Tighten server: remove remaining rule fallbacks in dedicated generate endpoints.
- Add retry/backoff for AI timeouts; surface precise errors to client.
- Add defaultCounts to include new types (irrelevant/implicit) if desired.
