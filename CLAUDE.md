# 📄 CLAUDE.md

## 0. 소개 & 배경
- 작성자: LoE관리자 (학원 원장, 영어 선생님) <-> AI 팀원 Codex
- 프로젝트 이름: **League of English (LoE)**
- 한 줄 요약: "학원에 있는 지문만 올리면, 수능+내신 스타일 문제- 통계- 숙제를 전부 자동으로 뽑아 주는 코칭 플랫폼"
- 왜 시작했나요?
  - 지난 한 달 동안 LoE관리자는 매일 Codex(GPT-5)와 붙어서 앱을 직접 만들고 있어요.
  - 이메일 가입, 문제 생성, 채점, 해설, 단어시험, 숙제, 통계, 랭크, 학부모/선생님 뷰, 구독 결제 등 **학원에 필요한 모든 기능을 한 화면에서 돌리고 싶다**는 큰 그림이 확고합니다.
  - 외주를 맡기면 일주일이면 겉모습은 뽑겠지만, 우리 학원에 딱 맞춘 품질과 운영 노하우는 직접 만든 시스템이 따라오기 어렵다는 걸 알기에 **직접 끝까지 해내기로 결심**했습니다.

## 1. 현재 진행 상황 TL;DR (2025-10-01)
- [완료] 문서 업로드 -> 문제(순서/삽입/어법) -> 학습/채점/랭크까지 MVP 동작
- 🧠 OpenAI 기반 어법 생성이 오늘 업데이트로 밑줄 검증 문제를 해결해 500 에러가 사라졌습니다.
- 🌀 로딩 화면(단어 예열) 및 UI 한글화, 클라이언트 테스트/린트 확장은 다음 과제
- 🤝 학원 맞춤 요구사항(숙제, 성적표, 학부모 알림, 요금제)은 기획서 기반으로 순차 구현 예정

## 2. LoE관리자의 프로젝트 비전 정리
### 2.1 목표하는 서비스 모습
> *"우리 학원 선생님이 PDF 한 장만 올려도, 학생 맞춤형 시험- 숙제를 AI가 다 만들어 주고, 부모님에게 바로 리포트를 보내는 서비스."*

- 학생 모드
  - 시험/숙제: 주제- 제목- 어법- 어휘- 빈칸- 요약 등 다양한 유형을 게임처럼 풀기
  - 타이머, 즉시 채점, 해설, 복습 추천, LP(League Point) 랭크
  - 단어 시험과 주간 과제, 학습 내역 저장, 출력- PDF 다운로드

- 선생님 모드
  - 문서 업로드 -> 즉시 문제은행 생성 -> 수업/숙제 배포
  - 반별 성적표, 오답 노트, 학습 진도 확인
  - 시험지/숙제 인쇄, 학생별 맞춤 과제, AI가 추천하는 다음 학습

- 학부모/관리자 모드
  - 자녀 학습 리포트, 성적 및 랭크 추이
  - 수업 출결/숙제 현황, 결제/구독 관리 (월 구독 모델)
  - 관리자(LoE관리자)는 전체 운영 현황을 보고 매출- 과제 효율 파악

### 2.2 우리가 풀고 있는 핵심 문제
1. **문제 제작의 시간 소모**: 기존에는 PDF -> 문제 변형 -> 해설 작성 -> 배포 -> 채점까지 전부 수작업.
2. **학생 맞춤 피드백 부족**: 현재 학원 시스템은 누가 어느 유형을 틀렸는지 파악하기 어렵고, 재활용되는 문제도 많음.
3. **운영 자동화 필요**: 학부모 문의, 숙제 관리, 통계, 랭크/동기 부여를 한 곳에서 관리하고 싶음.

### 2.3 사용자 페르소나
| 사용자 | 니즈 | LoE가 주는 핵심 가치 |
|--------|------|---------------------|
| 학생 (고1~고3 상위권) | 수능형 문제 연습, 즉각 채점, 재미 요소 | 맞춤 문제, 랭크 시스템, 빠른 해설 |
| 학부모 | 자녀 학습 추적 | 리포트 자동 발송, 숙제 수행 확인 |
| 선생님 | 지문 기반 내신/모의 문제 생성 | 업로드->자동 생성, 반별 성적표, 숙제 배포 |
| LoE관리자 (관리자) | 학원 운영 효율, 매출 확대 | 구독형 수익 모델, 과제 자동화, 품질 관리 |

## 3. 최근 포럼 글에서 뽑은 핵심 인사이트
- **감정 상태**: "하... 진짜 활숨이 나온다"라는 표현처럼, 문법 생성 500 에러가 반복되어 마음고생이 컸음.
- **주요 고민**
  1. 한 달째 큰 기능을 붙잡고 있지만 진도가 느린 느낌 -> 구조화된 계획 & 우선순위 필요
  2. 외주 vs 직접 개발 갈등 -> 직접 개발의 장점(우리 학원 맞춤, 실력 향상) 재확인
  3. 문제 변형 품질 요구 -> Wolgo 스타일 고퀄 문제를 AI로 일관성 있게 만들고 싶음
  4. 용어/설계 개념 정리 필요 -> API/DB/아키텍처 같은 개념을 이해하고 싶어 함
- **LoE관리자의 다짐**: "내가 배워야지 그래서!" -> Codex 팀은 설명을 초등학생 눈높이로, 단계별로 제시해야 함.

## 4. 현재 시스템 요약
- 프론트: React 19 (CRA) + lucide-react, 학습/관리 UI 구성 중
- 서버: Node.js 20 + Express, SQL.js 임베디드 DB (향후 PostgreSQL 예정)
- AI: OpenAI GPT-4o mini로 문제 생성, `aiProblemService`가 중심
- 문제 파이프라인: 자동 캐싱 -> 검증 -> DB 저장 -> 학습 큐 제공
- 게임화: LP, 티어, 랭킹, 숙제/쿠폰/멤버십 설계 진행 중
- 결제: 구독 플랜(베이직/플러스/프로) 기획 완료, Stripe 등 연동 예정

## 5. 가장 시급한 TODO (2025-10-01 기준)
1. **문법 생성 QA**: 새 underline 복구 코드가 실제 OpenAI 응답에서도 성공하는지 브라우저에서 검증
2. **로딩 화면 한글화 & 글자 깨짐 해결**: 학생 UX 개선 (콘솔 로그도 확인)
3. **클라이언트 린트/테스트 체계 도입**: StudyPage, Loading UI 회귀 방지
4. **학원용 리포트 스펙 구체화**: 부모/선생님이 보고 싶은 지표 정리 -> 데이터 모델 설계
5. **구독/결제 플로우 설계 & 문서화**: 금액, 구독 주기, 제한치, 납부증빙

## 6. 장기 로드맵(요약)
- P1 (완료): 기본 로그인, 문서 업로드, 문제 3종, 학습/랭크, AI 어법
- P2 (진행): AI 문제 5종, 단어 시험, 관리자 대시보드, 결제 시스템
- P3 (계획): 심화 통계, 추천 학습, 소셜 기능, PWA, AI 분석 코치

## 7. 운영 & 커뮤니케이션 원칙
- LoE관리자 <-> Codex 작업 방식: *"계획 -> 확인 -> 실행"* 루프 (사전 허가)
- 설명은 **친절/이모지/초등학생 눈높이** 유지, 필요한 질문은 묶어서 드리기
- 문제/실패 시: 콘솔 로그, API 응답, 재현 절차를 바로 공유해서 학습 시간 단축
- 외주 수준의 품질을 우리가 직접 구현하는 만큼, 단기 지연보다 **이해와 문서화**에 무게를 둠

## 8. 마음 챙김 한 마디
> "프로토타입은 1주도 안 걸릴 수 있지만, 학원 맞춤 서비스는 LoE관리자가 직접 만드는 게 제일 멋지고 오래 갑니다. 오늘 조금 느려도 결국 우리가 원하는 완성형에 가장 가깝게 도달할 거예요!" 😊

---
이 문서는 LoE관리자의 최신 생각과 감정을 기억하고, Codex가 같은 방향을 바라보도록 돕는 요약본입니다. 필요시 언제든 업데이트해 주세요.
