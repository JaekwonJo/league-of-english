"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[403],{330:(e,t,a)=>{a.d(t,{A:()=>p});a(43);var s=a(579);const o={position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"var(--dialog-scrim, rgba(15, 23, 42, 0.65))",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,backdropFilter:"blur(3px)"},r={background:"var(--surface-card)",borderRadius:"18px",maxWidth:"720px",width:"90%",maxHeight:"80vh",padding:"24px",display:"flex",flexDirection:"column",boxShadow:"0 24px 50px var(--surface-shadow)"},n={margin:0,marginBottom:"12px",fontSize:"20px",fontWeight:700,color:"var(--text-primary)"},i={flex:1,overflowY:"auto",paddingRight:"8px"},c={whiteSpace:"pre-wrap",fontSize:"15px",lineHeight:1.7,color:"var(--text-secondary)"},l={display:"flex",justifyContent:"flex-end",marginTop:"18px"},d={background:"var(--accent-gradient)",color:"var(--text-on-accent)",border:"none",borderRadius:"10px",padding:"10px 18px",fontSize:"14px",cursor:"pointer",fontWeight:600,boxShadow:"0 12px 24px var(--accent-shadow)"},p=e=>{let{open:t,passage:a,onClose:p,documentTitle:h}=e;if(!t||!a)return null;const u=h?"".concat(h," \xb7 #").concat(String(a.passageNumber).padStart(2,"0")):"#".concat(String(a.passageNumber).padStart(2,"0")," \uc9c0\ubb38 \uc804\uccb4 \ubcf4\uae30");return(0,s.jsx)("div",{style:o,role:"dialog","aria-modal":"true","aria-label":"\uc9c0\ubb38 \uc804\uccb4 \ubcf4\uae30",children:(0,s.jsxs)("div",{style:r,children:[(0,s.jsx)("h2",{style:n,children:u}),(0,s.jsx)("div",{style:i,children:(0,s.jsx)("div",{style:c,children:a.text||a.fullText||a.excerpt})}),(0,s.jsx)("div",{style:l,children:(0,s.jsx)("button",{type:"button",style:d,onClick:p,children:"\ub2eb\uae30"})})]})})}},345:e=>{e.exports=JSON.parse('{"yA":{"UU":"League of English","BJ":"\uc601\uc5b4\ub97c \ub354 \uc27d\uace0 \uc7ac\ubc0c\uac8c!"}}')},376:(e,t,a)=>{a.d(t,{A:()=>n,F:()=>r});var s=a(555);a(345);const o=new class{constructor(){this.baseURL="https://loe-server.onrender.com/api",this.token=null,console.log("API URL:",this.baseURL)}async _fetchWithTimeout(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15e3;const o=new AbortController,r=setTimeout(()=>o.abort(),Math.max(1e3,a));try{return await fetch(e,(0,s.A)((0,s.A)({},t),{},{signal:o.signal}))}catch(n){if("AbortError"===(null===n||void 0===n?void 0:n.name))throw new Error("\uc694\uccad\uc774 \uc624\ub798 \uac78\ub824 \uc911\ub2e8\ub418\uc5c8\uc5b4\uc694. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.");throw n}finally{clearTimeout(r)}}setToken(e){this.token=e,localStorage.setItem("token",e)}getToken(){return this.token||(this.token=localStorage.getItem("token")),this.token}getHeaders(){const e={"Content-Type":arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/json"},t=this.getToken();return t&&(e.Authorization="Bearer ".concat(t)),e}async handleError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(console.error("API Error [".concat(t,"]:"),e),!(e instanceof Response))throw"TypeError"===e.name&&e.message.includes("fetch")?new Error("\uc11c\ubc84\uc640 \uc5f0\uacb0\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."):new Error(e.message||"\uc54c \uc218 \uc5c6\ub294 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.");try{const t=await e.json();throw new Error(t.message||"\uc11c\ubc84 \uc624\ub958 (".concat(e.status,")"))}catch(a){throw new Error("\uc11c\ubc84 \uc624\ub958 (".concat(e.status,"): ").concat(e.statusText))}}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const a=new URLSearchParams(t).toString(),s="".concat(this.baseURL).concat(e).concat(a?"?"+a:""),o=this.getHeaders();let r=15e3;(/^\/analysis\//.test(e)||"/analysis/list"===e||/^\/analysis\/status\//.test(e))&&(r=6e4),console.log("\ud83d\udd0d API GET Request:",{url:s,headers:o,token:this.getToken()?"EXISTS":"MISSING"});const n=await this._fetchWithTimeout(s,{method:"GET",headers:o},r,"GET ".concat(e));if(!n.ok)throw n;return await n.json()}catch(a){await this.handleError(a,"GET ".concat(e))}}async getText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const a=new URLSearchParams(t).toString(),s="".concat(this.baseURL).concat(e).concat(a?"?"+a:""),o=this.getHeaders(),r=await this._fetchWithTimeout(s,{method:"GET",headers:o},15e3,"GET_TEXT ".concat(e));if(!r.ok)throw r;return await r.text()}catch(a){await this.handleError(a,"GET_TEXT ".concat(e))}}async post(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let a=2e4;/\/generate\/csat-set$/.test(e)&&(a=6e4),/\/analysis\//.test(e)&&(a=Math.max(a,6e4)),/\/vocabulary\/sets\/.+\/quiz$/.test(e)&&(a=Math.max(a,3e4)),/\/problems\/export\/pdf$/.test(e)&&(a=Math.max(a,6e4));const s=await this._fetchWithTimeout("".concat(this.baseURL).concat(e),{method:"POST",headers:this.getHeaders(),body:JSON.stringify(t)},a,"POST ".concat(e));if(!s.ok){const e=await s.json();throw new Error(e.message||"\uc694\uccad \ucc98\ub9ac \uc2e4\ud328")}return await s.json()}catch(a){await this.handleError(a,"POST ".concat(e))}}async postForBlob(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const s=await this._fetchWithTimeout("".concat(this.baseURL).concat(e),{method:"POST",headers:this.getHeaders(),body:JSON.stringify(t)},3e4,"POST_BLOB ".concat(e));if(!s.ok){let e="\uc694\uccad \ucc98\ub9ac \uc2e4\ud328";try{e=(await s.json()).message||e}catch(a){}throw new Error(e)}return await s.blob()}catch(s){await this.handleError(s,"POST_BLOB ".concat(e))}}async put(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const a=await this._fetchWithTimeout("".concat(this.baseURL).concat(e),{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(t)},2e4,"PUT ".concat(e));if(!a.ok)throw a;return await a.json()}catch(a){await this.handleError(a,"PUT ".concat(e))}}async patch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const a=await this._fetchWithTimeout("".concat(this.baseURL).concat(e),{method:"PATCH",headers:this.getHeaders(),body:JSON.stringify(t)},2e4,"PATCH ".concat(e));if(!a.ok)throw a;return await a.json()}catch(a){await this.handleError(a,"PATCH ".concat(e))}}async delete(e,t){try{const a=await this._fetchWithTimeout("".concat(this.baseURL).concat(e),(0,s.A)({method:"DELETE",headers:this.getHeaders()},void 0!==t?{body:JSON.stringify(t)}:{}),15e3,"DELETE ".concat(e));if(!a.ok)throw a;return await a.json()}catch(a){await this.handleError(a,"DELETE ".concat(e))}}async uploadFile(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const s=new FormData;s.append("file",t),Object.keys(a).forEach(e=>{s.append(e,a[e])});const o=await this._fetchWithTimeout("".concat(this.baseURL).concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(this.getToken())},body:s},6e4,"UPLOAD ".concat(e));if(!o.ok)throw o;return await o.json()}catch(s){await this.handleError(s,"UPLOAD ".concat(e))}}},r={auth:{login:e=>o.post("/auth/login",e),register:e=>o.post("/auth/register",e),sendCode:e=>o.post("/auth/send-code",{email:e}),logout:()=>o.post("/auth/logout"),refresh:()=>o.post("/auth/refresh")},documents:{list:e=>o.get("/documents",e),get:e=>o.get("/documents/".concat(e)),upload:(e,t)=>o.uploadFile("/upload-document",e,t),delete:e=>o.delete("/documents/".concat(e)),getShares:e=>o.get("/documents/".concat(e,"/shares")),updateShares:(e,t)=>o.post("/documents/".concat(e,"/share"),t)},admin:{problemFeedback:{list:e=>o.get("/admin/problem-feedback",e),update:(e,t)=>o.patch("/admin/problem-feedback/".concat(e),t)},notifications:{list:e=>o.get("/admin/notifications",e),update:(e,t)=>o.patch("/admin/notifications/".concat(e),t)},problems:{deactivate:(e,t)=>o.post("/admin/problems/".concat(e,"/deactivate"),t),restore:(e,t)=>o.post("/admin/problems/".concat(e,"/restore"),t)},users:{list:e=>o.get("/admin/users",e),suspend:e=>o.post("/admin/users/".concat(e,"/suspend")),restore:e=>o.post("/admin/users/".concat(e,"/restore")),remove:e=>o.delete("/admin/users/".concat(e))},membership:{grant:e=>o.post("/membership/admin/grant",e),requests:()=>o.get("/membership/admin/requests"),resolve:(e,t)=>o.post("/membership/admin/requests/".concat(e,"/resolve"),t),coupons:{create:e=>o.post("/membership/admin/coupons",e)}}},vocabulary:{list:()=>o.get("/vocabulary/sets"),detail:e=>o.get("/vocabulary/sets/".concat(e)),generateQuiz:(e,t)=>o.post("/vocabulary/sets/".concat(e,"/quiz"),t),submitQuiz:(e,t)=>o.post("/vocabulary/sets/".concat(e,"/quiz/submit"),t)},study:{session:{get:()=>o.get("/study/session"),save:e=>o.post("/study/session",e),clear:e=>o.delete("/study/session",e)}},problems:{getSmartProblems:e=>o.post("/get-smart-problems",e),submit:e=>o.post("/problems/submit",e),history:e=>o.get("/problems/history",e),stats:()=>o.get("/problems/stats"),exportPdf:e=>o.postForBlob("/problems/export/pdf",e),library:e=>o.get("/problems/library",e),reviewQueue:e=>o.get("/problems/review-queue",e),startReviewSession:e=>o.post("/problems/review-session",e),saveNote:(e,t)=>o.put("/problems/".concat(e,"/note"),t),exportHistory:e=>o.get("/problems/export/history",e),feedback:{summary:e=>o.get("/problems/".concat(e,"/feedback/summary")),submit:(e,t)=>o.post("/problems/".concat(e,"/feedback"),t)}},users:{profile:()=>o.get("/users/profile"),updateProfile:e=>o.put("/users/profile",e),changePassword:e=>o.post("/users/change-password",e)},ranking:{leaderboard:e=>o.get("/ranking/leaderboard",e),myRank:()=>o.get("/ranking/my-rank"),tierDistribution:()=>o.get("/ranking/tier-distribution")},teacher:{codes:()=>o.get("/teacher/codes"),generateCode:()=>o.post("/teacher/codes"),deactivateCode:e=>o.post("/teacher/codes/"+e+"/deactivate"),students:()=>o.get("/teacher/students"),join:e=>o.post("/teacher/join",{code:e}),analyticsOverview:e=>o.get("/teacher/analytics/overview",e),analyticsStudent:(e,t)=>o.get("/teacher/analytics/students/".concat(e),t),analyticsExport:e=>o.getText("/teacher/analytics/export",e)},membership:{status:()=>o.get("/membership/status"),redeem:e=>o.post("/membership/redeem",{code:e}),request:(e,t)=>o.post("/membership/request",{plan:e,message:t})},analysis:{list:()=>o.get("/analysis/list"),get:e=>o.get("/analysis/".concat(e)),getPassage:(e,t)=>o.get("/analysis/".concat(e,"/passage/").concat(t)),listPassageSummaries:e=>o.get("/analysis/".concat(e,"/passage-list")),generate:function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return o.post("/analysis/".concat(e,"/analyze-passage"),{passageNumber:t,count:a})},generateBatch:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return o.post("/analysis/".concat(e,"/analyze-passages"),{passageNumbers:t})},status:e=>o.get("/analysis/status/".concat(e)),delete:e=>o.delete("/analysis/".concat(e)),feedback:{submit:(e,t,a)=>o.post("/analysis/".concat(e,"/passage/").concat(t,"/feedback"),a),pending:()=>o.get("/analysis/feedback/pending"),resolve:(e,t)=>o.put("/analysis/feedback/".concat(e),{status:t})}}};["get","post","postForBlob","put","patch","delete","uploadFile"].forEach(e=>{"function"===typeof o[e]&&(r[e]=function(){return o[e](...arguments)})});const n=o},921:(e,t,a)=>{a.d(t,{A:()=>i});var s=a(555),o=a(43),r=a(579);const n={wrapper:{display:"flex",flexDirection:"column",gap:"12px"},metaRow:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"10px",flexWrap:"wrap"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"16px"},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",background:"var(--surface-card)",border:"1px solid var(--surface-border)",borderRadius:"14px",padding:"16px",minHeight:"200px",transition:"all 0.2s ease",boxShadow:"0 10px 18px var(--surface-shadow)"},cardSelected:{borderColor:"var(--accent-primary)",boxShadow:"0 12px 24px var(--accent-shadow)"},header:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px",gap:"10px"},badge:{fontSize:"13px",fontWeight:"600",background:"var(--accent-soft)",padding:"6px 10px",borderRadius:"999px",color:"var(--accent-strong)"},checkbox:{appearance:"none",width:"20px",height:"20px",borderRadius:"6px",border:"2px solid var(--accent-primary)",display:"grid",placeItems:"center",cursor:"pointer",background:"transparent",transition:"all 0.2s ease"},checkboxChecked:{background:"var(--accent-primary)",borderColor:"var(--accent-primary)"},excerpt:{flex:1,fontSize:"14px",lineHeight:1.6,color:"var(--text-secondary)",margin:0,whiteSpace:"pre-wrap"},footer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"14px",gap:"10px"},previewButton:{background:"var(--accent-soft)",border:"none",color:"var(--accent-primary)",borderRadius:"8px",padding:"6px 12px",cursor:"pointer",fontSize:"13px",fontWeight:600,transition:"background 0.2s ease"},previewButtonDisabled:{opacity:.4,cursor:"not-allowed"},empty:{background:"var(--surface-soft)",borderRadius:"12px",padding:"32px",textAlign:"center",color:"var(--text-secondary)"}},i=e=>{let{passages:t=[],selected:a=[],onToggle:i,onPreview:c,maxSelection:l=0,renderMeta:d,selectionLabel:p,emptyMessage:h="\ud45c\uc2dc\ud560 \uc9c0\ubb38\uc774 \uc544\uc9c1 \uc5c6\uc5b4\uc694.",selectionEnabled:u=!0}=e;const g=Array.isArray(a)?a:[],m=e=>u&&g.includes(e);return t.length?(0,r.jsxs)("div",{style:n.wrapper,children:[u&&p&&(0,r.jsxs)("div",{style:n.metaRow,children:[(0,r.jsx)("span",{children:p}),u&&l>0&&(0,r.jsxs)("span",{style:{fontSize:"13px",color:"var(--text-muted)"},children:[g.length," / ",l]})]}),(0,r.jsx)("div",{style:n.grid,children:t.map(e=>{const t=e.passageNumber,a=m(t),p=(e=>!!u&&!m(e)&&!!l&&g.length>=l)(t);return(0,r.jsxs)("div",{style:(0,s.A)((0,s.A)((0,s.A)({},n.card),a?n.cardSelected:{}),p?{opacity:.6}:{}),children:[(0,r.jsxs)("div",{style:n.header,children:[(0,r.jsxs)("span",{style:n.badge,children:["#",t.toString().padStart(2,"0")]}),u&&(0,r.jsx)("input",{type:"checkbox",checked:a,disabled:p,onChange:()=>!p&&i&&i(t),style:(0,s.A)((0,s.A)({},n.checkbox),a?n.checkboxChecked:{}),"aria-label":"".concat(t,"\ubc88 \uc9c0\ubb38 \uc120\ud0dd")})]}),(0,r.jsx)("p",{style:n.excerpt,children:e.excerpt||"\uc9c0\ubb38 \ubbf8\ub9ac\ubcf4\uae30\ub97c \uc900\ube44\ud558\ub294 \uc911\uc774\uc5d0\uc694."}),(0,r.jsxs)("div",{style:n.footer,children:[(0,r.jsx)("button",{type:"button",onClick:()=>c&&c(e),style:(0,s.A)((0,s.A)({},n.previewButton),c?{}:n.previewButtonDisabled),disabled:!c,children:"\uc804\uccb4 \ubcf4\uae30"}),d&&(()=>{const t=d(e);return t?o.isValidElement(t)?(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"6px",alignItems:"flex-end"},children:t}):(0,r.jsx)("div",{style:{fontSize:"12px",color:"var(--text-muted, rgba(255,255,255,0.6))"},children:t}):null})()]})]},t)})})]}):(0,r.jsx)("div",{style:n.empty,children:h})}}}]);
//# sourceMappingURL=403.013f21ab.chunk.js.map